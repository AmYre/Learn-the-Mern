{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\AmYre\\\\Desktop\\\\mern\\\\app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from\"react\";import{Container,ListGroup,ListGroupItem,Button}from\"reactstrap\";import{CSSTransition,TransitionGroup}from\"react-transition-group\";import AddServices from\"./AddServicesButton\";import AddMovies from\"./AddMoviesButton\";import{GlobalContext}from\"../context/GlobalContext\";import{useDispatch,useSelector}from'react-redux';import{ActionDelMovie,ActionInitMovies}from'../reducers/moviesReducer';import axios from'axios';var ServicesList=function ServicesList(props){var _useContext=useContext(GlobalContext),_useContext2=_slicedToArray(_useContext,4),services=_useContext2[0],setServices=_useContext2[1],isLoading=_useContext2[2],isError=_useContext2[3];var _useState=useState(true),_useState2=_slicedToArray(_useState,2),moviesLoading=_useState2[0],setMoviesLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),moviesError=_useState4[0],setMoviesError=_useState4[1];var movies=useSelector(function(state){return state;})||[];var dispatch=useDispatch();useEffect(function(){axios.get('https://learn-mern-stack-28.herokuapp.com/posts').then(function(response){dispatch(ActionInitMovies(response.data));setMoviesLoading(false);}).catch(function(err){setMoviesError(true);setMoviesLoading(false);});},[]);var delService=function delService(id){return axios.delete(process.env.PUBLIC_URL+\"/posts/\".concat(id)).then(function(resp){return console.log(resp);});};return React.createElement(\"div\",null,React.createElement(Container,{style:{marginBottom:'2rem'}},React.createElement(AddServices,null),React.createElement(ListGroup,null,isLoading?React.createElement(\"p\",null,\" Data is loading... \"):isError?React.createElement(\"p\",null,\" Sorry we did not found the data\"):React.createElement(TransitionGroup,{className:\"services-list\"},services.map(function(_ref){var id=_ref.id,title=_ref.title,desc=_ref.desc;return React.createElement(CSSTransition,{key:id,timeout:500,classNames:\"fade\"},React.createElement(ListGroupItem,{className:\"list\"},desc,React.createElement(Button,{className:'remove-btn'+id,color:\"danger\",size:\"sm\",onClick:function onClick(){delService(id);setServices(services.filter(function(service){return service.id!==id;}));}},\"X\")));})))),React.createElement(Container,null,React.createElement(AddMovies,null),React.createElement(ListGroup,null,\" \",moviesLoading?React.createElement(\"p\",null,\" Movies are loading... \"):moviesError?React.createElement(\"p\",null,\" Sorry we did not found the movies\"):React.createElement(TransitionGroup,{className:\"movies-list\"},movies.map(function(_ref2){var id=_ref2.id,desc=_ref2.desc;return React.createElement(CSSTransition,{key:id,timeout:500,classNames:\"fade\"},React.createElement(ListGroupItem,{className:\"list\"},desc,React.createElement(Button,{className:'remove-btn'+id,color:\"danger\",size:\"sm\",onClick:function onClick(){dispatch(ActionDelMovie(id));delService(id);}},\"X\")));})))));};export default ServicesList;","map":{"version":3,"sources":["C:/Users/AmYre/Desktop/mern/app/src/components/Lists.js"],"names":["React","useState","useContext","useEffect","Container","ListGroup","ListGroupItem","Button","CSSTransition","TransitionGroup","AddServices","AddMovies","GlobalContext","useDispatch","useSelector","ActionDelMovie","ActionInitMovies","axios","ServicesList","props","services","setServices","isLoading","isError","moviesLoading","setMoviesLoading","moviesError","setMoviesError","movies","state","dispatch","get","then","response","data","catch","err","delService","id","delete","process","env","PUBLIC_URL","resp","console","log","marginBottom","map","title","desc","filter","service"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport { Container, ListGroup, ListGroupItem, Button } from \"reactstrap\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport AddServices from \"./AddServicesButton\";\r\nimport AddMovies from \"./AddMoviesButton\";\r\nimport { GlobalContext } from \"../context/GlobalContext\";\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {ActionDelMovie, ActionInitMovies} from '../reducers/moviesReducer';\r\nimport axios from 'axios';\r\n\r\n\r\nconst ServicesList = props => {\r\n\tconst [services, setServices, isLoading, isError] = useContext(GlobalContext);\r\n\tconst [moviesLoading, setMoviesLoading] = useState(true);\r\n\tconst [moviesError, setMoviesError] = useState(false);\r\n\tconst movies = useSelector(state => state)||[];\r\n\tconst dispatch = useDispatch();\r\n\r\n\tuseEffect( () => {\r\n\t\t\r\n\t\taxios.get('https://learn-mern-stack-28.herokuapp.com/posts')\r\n\t\t\t.then( response => {dispatch(ActionInitMovies(response.data));setMoviesLoading(false)} )\r\n\t\t\t.catch(err => {setMoviesError(true);setMoviesLoading(false)})\r\n\t}, []);\r\n\r\n\tconst delService = (id) => axios.delete(process.env.PUBLIC_URL+`/posts/${id}`)\r\n\t.then(resp => console.log(resp));\r\n\r\n\treturn (\r\n\r\n\t<div>\r\n\t\t<Container style={{marginBottom: '2rem'}}>\r\n\t\t<AddServices></AddServices>\r\n\t\t\t<ListGroup>{isLoading ? (<p> Data is loading... </p>) : ( isError ? (<p> Sorry we did not found the data</p>) : (\r\n\t\t\t\t<TransitionGroup className=\"services-list\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t{services.map(({ id, title, desc }) => (\r\n\t\t\t\t\t\t<CSSTransition key={id} timeout={500} classNames=\"fade\">\r\n\t\t\t\t\t\t\t<ListGroupItem className=\"list\">\r\n\t\t\t\t\t\t\t\t{desc}\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tclassName={'remove-btn'+id}\r\n\t\t\t\t\t\t\t\t\tcolor=\"danger\"\r\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tdelService(id);\r\n\t\t\t\t\t\t\t\t\t\tsetServices(services.filter(service => service.id !== id))\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tX\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</ListGroupItem>\r\n\t\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t\r\n\t\t\t\t</TransitionGroup>))}\r\n\t\t\t</ListGroup>\r\n\t\t</Container>\r\n\t\t\r\n\t\t<Container>\r\n\t\t\t<AddMovies></AddMovies>\r\n\t\t\t<ListGroup> {moviesLoading ? (<p> Movies are loading... </p>) : ( moviesError ? (<p> Sorry we did not found the movies</p>) : (\r\n\t\t\t\t<TransitionGroup className=\"movies-list\">\r\n\t\t\t\t\t{movies.map(({id, desc}) => (\r\n\t\t\t\t\t\t<CSSTransition key={id} timeout={500} classNames=\"fade\">\r\n\t\t\t\t\t\t\t<ListGroupItem className=\"list\">\r\n\t\t\t\t\t\t\t\t{desc}\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tclassName={'remove-btn'+id}\r\n\t\t\t\t\t\t\t\t\tcolor=\"danger\"\r\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tdispatch(ActionDelMovie(id));\r\n\t\t\t\t\t\t\t\t\t\tdelService(id);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tX\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</ListGroupItem>\r\n\t\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</TransitionGroup>))}\r\n\t\t\t</ListGroup>\r\n\t\t</Container>\r\n\t</div>\r\n\t);\r\n};\r\n\r\nexport default ServicesList;\r\n"]},"metadata":{},"sourceType":"module"}